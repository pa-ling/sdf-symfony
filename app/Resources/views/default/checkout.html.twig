{% extends 'base.html.twig' %}

{# {% block sidebar %}
    {%- include 'sidebar.html.twig' -%}
{% endblock %} #}

{% block body %}
	<!--<input id="cartId"><button onclick=addcartItem()>+</button>-->

	<script>
		function addcartItem() {
			var request = new XMLHttpRequest();
			var item = document.getElementById("cartId").value;
			request.open("POST", "checkout/" + item);
			request.addEventListener('load', function(event) {
				window.location.reload();
			})
			request.send();
		}
		$(document).ready(function(c)
		{
			$('.close1').on('click', function(c)
			{
				var itemId = c.target.id;
				var selectorForCartItem = '#cartitem' + itemId;
				$(selectorForCartItem).fadeOut('slow', function(c)
				{
					$(selectorForCartItem).remove();
				});

				var request = new XMLHttpRequest();
				request.open("DELETE", "checkout/" + itemId);
				request.send();
			});
		});
	</script>

	<div class="ckeckout">
		<div class="container">
			<div class="ckeck-top heading">
				<h2>Checkout</h2>
			</div>
			<div class="ckeckout-top">
				<div class="cart-items">
					<h3>My Cart</h3>
					<div class="in-check">
						<ul class="unit">
							<li><span>Pictures / Galleries</span></li>
							<li><span>Name</span></li>
							<li><span>Price</span></li>
							<div class="clearfix"> </div>
						</ul>

						{% for item in cartItems %}
							<ul class="cart-header" id="cartitem{{item.id}}" >
								<div class="close1" id="{{item.id}}"> </div>
								<li><span class="cost">Bild</span></li>
								<li><span class="cost">Name</span></li>
								<li><span class="cost">{{item.price}} €</span></li>
								<div class="clearfix"> </div>
							</ul>
						{% endfor %}

					</div>
                    <h3 class="text-right">Sum: {{ sum }} €</h3>
                    <br>
					<form action="" method="post">
						<button name="order" value="order" class="btn btn-primary pull-right">Order</button>
					</form>
				</div>
		 	</div>
		</div>
	</div>
	
{% endblock %}